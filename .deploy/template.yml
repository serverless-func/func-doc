ROSTemplateFormatVersion: "2015-09-01"
Transform: "Aliyun::Serverless-2018-04-03"
Resources:
  docs:
    Type: "Aliyun::Serverless::Service"
    Properties:
      Description: "函数计算服务文档"
    index:
      Type: "Aliyun::Serverless::Function"
      Properties:
        Handler: main
        Runtime: custom
        CodeUri: "./"
      Events:
        httpTrigger:
          Type: HTTP
          Properties:
            AuthType: ANONYMOUS
            Methods: ["GET"]
  fun.dongfg.com:
    Type: "Aliyun::Serverless::CustomDomain"
    Properties:
      Protocol: HTTP,HTTPS
      CertConfig:
        CertName: "fun_dongfg_com"
        PrivateKey: "./ssl.private.pem"
        Certificate: "./ssl.cert.pem"
      RouteConfig:
        Routes:
          "/*":
            ServiceName: docs
            FunctionName: index
